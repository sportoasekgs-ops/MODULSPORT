{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/api.service\";\nimport * as i2 from \"@angular/router\";\nfunction WeekOverviewComponent_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 10)(1, \"div\", 11)(2, \"span\", 12);\n    i0.ɵɵtext(3, \"Laden...\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction WeekOverviewComponent_div_15_div_1_div_7_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"small\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 27);\n    i0.ɵɵelement(4, \"div\", 28);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const slot_r8 = i0.ɵɵnextContext().$implicit;\n    const ctx_r9 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"\", slot_r8.current_students, \"/\", slot_r8.max_students, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵstyleProp(\"width\", ctx_r9.getProgressPercent(slot_r8), \"%\");\n    i0.ɵɵproperty(\"ngClass\", ctx_r9.getProgressClass(slot_r8));\n  }\n}\nfunction WeekOverviewComponent_div_15_div_1_div_7_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 29)(1, \"small\")(2, \"strong\");\n    i0.ɵɵtext(3, \"Blockiert\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction WeekOverviewComponent_div_15_div_1_div_7_div_9_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const slot_r8 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" +\", slot_r8.bookings.length - 1, \" \");\n  }\n}\nfunction WeekOverviewComponent_div_15_div_1_div_7_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 30)(1, \"small\", 17);\n    i0.ɵɵtext(2);\n    i0.ɵɵtemplate(3, WeekOverviewComponent_div_15_div_1_div_7_div_9_span_3_Template, 2, 1, \"span\", 24);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const slot_r8 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", slot_r8.bookings[0].offer_label, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", slot_r8.bookings.length > 1);\n  }\n}\nfunction WeekOverviewComponent_div_15_div_1_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r18 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 21);\n    i0.ɵɵlistener(\"click\", function WeekOverviewComponent_div_15_div_1_div_7_Template_div_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r18);\n      const slot_r8 = restoredCtx.$implicit;\n      const day_r5 = i0.ɵɵnextContext().$implicit;\n      const ctx_r16 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r16.selectSlot(day_r5.date, slot_r8));\n    });\n    i0.ɵɵelementStart(1, \"div\", 22)(2, \"strong\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"small\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"div\", 23);\n    i0.ɵɵtemplate(7, WeekOverviewComponent_div_15_div_1_div_7_div_7_Template, 5, 5, \"div\", 24);\n    i0.ɵɵtemplate(8, WeekOverviewComponent_div_15_div_1_div_7_div_8_Template, 4, 0, \"div\", 25);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(9, WeekOverviewComponent_div_15_div_1_div_7_div_9_Template, 4, 2, \"div\", 26);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const slot_r8 = ctx.$implicit;\n    const ctx_r6 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"ngClass\", ctx_r6.getSlotClass(slot_r8));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", slot_r8.period, \". Stunde\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"\", slot_r8.start_time, \" - \", slot_r8.end_time, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !slot_r8.is_blocked);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", slot_r8.is_blocked);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", slot_r8.bookings && slot_r8.bookings.length > 0);\n  }\n}\nfunction WeekOverviewComponent_div_15_div_1_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 31);\n    i0.ɵɵtext(1, \" Keine Slots \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction WeekOverviewComponent_div_15_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 15)(1, \"div\", 16)(2, \"h5\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"small\", 17);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"div\", 18);\n    i0.ɵɵtemplate(7, WeekOverviewComponent_div_15_div_1_div_7_Template, 10, 7, \"div\", 19);\n    i0.ɵɵtemplate(8, WeekOverviewComponent_div_15_div_1_div_8_Template, 2, 0, \"div\", 20);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const day_r5 = ctx.$implicit;\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r4.getWeekdayName(day_r5.weekday));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r4.formatDateShort(day_r5.date));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", day_r5.slots);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", day_r5.slots.length === 0);\n  }\n}\nfunction WeekOverviewComponent_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13);\n    i0.ɵɵtemplate(1, WeekOverviewComponent_div_15_div_1_Template, 9, 4, \"div\", 14);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.weekData);\n  }\n}\nfunction WeekOverviewComponent_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 32);\n    i0.ɵɵtext(1, \" Keine Daten f\\u00FCr diese Woche verf\\u00FCgbar \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction WeekOverviewComponent_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 33);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r3.errorMessage, \" \");\n  }\n}\nexport class WeekOverviewComponent {\n  constructor(apiService, router) {\n    this.apiService = apiService;\n    this.router = router;\n    this.weekData = [];\n    this.startDate = '';\n    this.loading = false;\n    this.errorMessage = '';\n  }\n  ngOnInit() {\n    this.currentWeek();\n  }\n  loadWeek() {\n    this.loading = true;\n    this.errorMessage = '';\n    this.apiService.getWeekOverview(this.startDate).subscribe({\n      next: response => {\n        this.weekData = response.week_data || [];\n        this.startDate = response.start_date;\n        this.loading = false;\n      },\n      error: error => {\n        console.error('Error loading week overview:', error);\n        this.errorMessage = 'Fehler beim Laden der Wochenübersicht';\n        this.loading = false;\n      }\n    });\n  }\n  currentWeek() {\n    const today = new Date();\n    const monday = new Date(today);\n    const dayOfWeek = today.getDay();\n    const diff = dayOfWeek === 0 ? -6 : 1 - dayOfWeek;\n    monday.setDate(today.getDate() + diff);\n    this.startDate = this.formatDateForAPI(monday);\n    this.loadWeek();\n  }\n  previousWeek() {\n    const date = new Date(this.startDate);\n    date.setDate(date.getDate() - 7);\n    this.startDate = this.formatDateForAPI(date);\n    this.loadWeek();\n  }\n  nextWeek() {\n    const date = new Date(this.startDate);\n    date.setDate(date.getDate() + 7);\n    this.startDate = this.formatDateForAPI(date);\n    this.loadWeek();\n  }\n  selectSlot(date, slot) {\n    if (slot.is_blocked) return;\n    if (slot.is_available) {\n      this.router.navigate(['/book', date, slot.period]);\n    }\n  }\n  getSlotClass(slot) {\n    if (slot.is_blocked) return 'slot-blocked';\n    if (slot.is_available) return 'slot-available';\n    return 'slot-full';\n  }\n  getProgressPercent(slot) {\n    if (slot.max_students === 0) return 0;\n    return slot.current_students / slot.max_students * 100;\n  }\n  getProgressClass(slot) {\n    const percent = this.getProgressPercent(slot);\n    if (percent < 50) return 'bg-success';\n    if (percent < 90) return 'bg-warning';\n    return 'bg-danger';\n  }\n  getWeekdayName(weekday) {\n    const days = {\n      'Monday': 'Montag',\n      'Tuesday': 'Dienstag',\n      'Wednesday': 'Mittwoch',\n      'Thursday': 'Donnerstag',\n      'Friday': 'Freitag',\n      'Saturday': 'Samstag',\n      'Sunday': 'Sonntag'\n    };\n    return days[weekday] || weekday;\n  }\n  formatDate(dateStr) {\n    if (!dateStr) return '';\n    const date = new Date(dateStr);\n    return date.toLocaleDateString('de-DE', {\n      day: '2-digit',\n      month: '2-digit',\n      year: 'numeric'\n    });\n  }\n  formatDateShort(dateStr) {\n    if (!dateStr) return '';\n    const date = new Date(dateStr);\n    return date.toLocaleDateString('de-DE', {\n      day: '2-digit',\n      month: '2-digit'\n    });\n  }\n  formatDateForAPI(date) {\n    const year = date.getFullYear();\n    const month = String(date.getMonth() + 1).padStart(2, '0');\n    const day = String(date.getDate()).padStart(2, '0');\n    return `${year}-${month}-${day}`;\n  }\n  static {\n    this.ɵfac = function WeekOverviewComponent_Factory(t) {\n      return new (t || WeekOverviewComponent)(i0.ɵɵdirectiveInject(i1.ApiService), i0.ɵɵdirectiveInject(i2.Router));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: WeekOverviewComponent,\n      selectors: [[\"app-week-overview\"]],\n      decls: 18,\n      vars: 5,\n      consts: [[1, \"card\"], [1, \"lead\"], [1, \"week-controls\", \"mb-4\"], [1, \"btn\", \"btn-secondary\", \"me-2\", 3, \"click\"], [1, \"btn\", \"btn-secondary\", 3, \"click\"], [1, \"ms-3\", \"text-muted\"], [\"class\", \"loading-container\", 4, \"ngIf\"], [\"class\", \"week-grid\", 4, \"ngIf\"], [\"class\", \"alert alert-warning\", 4, \"ngIf\"], [\"class\", \"alert alert-danger mt-3\", 4, \"ngIf\"], [1, \"loading-container\"], [\"role\", \"status\", 1, \"spinner-border\", \"text-primary\"], [1, \"visually-hidden\"], [1, \"week-grid\"], [\"class\", \"day-column\", 4, \"ngFor\", \"ngForOf\"], [1, \"day-column\"], [1, \"day-header\"], [1, \"text-muted\"], [1, \"slots-container\"], [\"class\", \"slot-card mb-2\", 3, \"ngClass\", \"click\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"alert alert-info\", 4, \"ngIf\"], [1, \"slot-card\", \"mb-2\", 3, \"ngClass\", \"click\"], [1, \"slot-header\"], [1, \"slot-info\"], [4, \"ngIf\"], [\"class\", \"text-danger\", 4, \"ngIf\"], [\"class\", \"mt-1\", 4, \"ngIf\"], [1, \"progress\", \"mt-1\", 2, \"height\", \"4px\"], [1, \"progress-bar\", 3, \"ngClass\"], [1, \"text-danger\"], [1, \"mt-1\"], [1, \"alert\", \"alert-info\"], [1, \"alert\", \"alert-warning\"], [1, \"alert\", \"alert-danger\", \"mt-3\"]],\n      template: function WeekOverviewComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\");\n          i0.ɵɵtext(2, \"Wochen\\u00FCbersicht\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(3, \"p\", 1);\n          i0.ɵɵtext(4, \"\\u00DCbersicht aller verf\\u00FCgbaren Slots f\\u00FCr die Woche\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(5, \"div\", 2)(6, \"button\", 3);\n          i0.ɵɵlistener(\"click\", function WeekOverviewComponent_Template_button_click_6_listener() {\n            return ctx.previousWeek();\n          });\n          i0.ɵɵtext(7, \" \\u2190 Vorherige Woche \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(8, \"button\", 3);\n          i0.ɵɵlistener(\"click\", function WeekOverviewComponent_Template_button_click_8_listener() {\n            return ctx.currentWeek();\n          });\n          i0.ɵɵtext(9, \" Aktuelle Woche \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(10, \"button\", 4);\n          i0.ɵɵlistener(\"click\", function WeekOverviewComponent_Template_button_click_10_listener() {\n            return ctx.nextWeek();\n          });\n          i0.ɵɵtext(11, \" N\\u00E4chste Woche \\u2192 \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(12, \"span\", 5);\n          i0.ɵɵtext(13);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(14, WeekOverviewComponent_div_14_Template, 4, 0, \"div\", 6);\n          i0.ɵɵtemplate(15, WeekOverviewComponent_div_15_Template, 2, 1, \"div\", 7);\n          i0.ɵɵtemplate(16, WeekOverviewComponent_div_16_Template, 2, 0, \"div\", 8);\n          i0.ɵɵtemplate(17, WeekOverviewComponent_div_17_Template, 2, 1, \"div\", 9);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(13);\n          i0.ɵɵtextInterpolate1(\" Woche ab \", ctx.formatDate(ctx.startDate), \" \");\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.loading);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading && ctx.weekData.length > 0);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading && ctx.weekData.length === 0);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.errorMessage);\n        }\n      },\n      styles: [\".week-grid[_ngcontent-%COMP%] {\\n      display: grid;\\n      grid-template-columns: repeat(5, 1fr);\\n      gap: 15px;\\n      margin-top: 20px;\\n    }\\n    \\n    @media (max-width: 1200px) {\\n      .week-grid[_ngcontent-%COMP%] {\\n        grid-template-columns: repeat(3, 1fr);\\n      }\\n    }\\n    \\n    @media (max-width: 768px) {\\n      .week-grid[_ngcontent-%COMP%] {\\n        grid-template-columns: repeat(2, 1fr);\\n      }\\n    }\\n    \\n    @media (max-width: 480px) {\\n      .week-grid[_ngcontent-%COMP%] {\\n        grid-template-columns: 1fr;\\n      }\\n    }\\n    \\n    .day-column[_ngcontent-%COMP%] {\\n      border: 1px solid #dee2e6;\\n      border-radius: 8px;\\n      overflow: hidden;\\n      background: white;\\n    }\\n    \\n    .day-header[_ngcontent-%COMP%] {\\n      background: linear-gradient(135deg, #2c5aa0 0%, #5a8ed9 100%);\\n      color: white;\\n      padding: 12px;\\n      text-align: center;\\n    }\\n    \\n    .day-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%] {\\n      margin: 0;\\n      font-size: 1rem;\\n    }\\n    \\n    .day-header[_ngcontent-%COMP%]   small[_ngcontent-%COMP%] {\\n      color: rgba(255, 255, 255, 0.9);\\n    }\\n    \\n    .slots-container[_ngcontent-%COMP%] {\\n      padding: 10px;\\n      max-height: 600px;\\n      overflow-y: auto;\\n    }\\n    \\n    .slot-card[_ngcontent-%COMP%] {\\n      padding: 10px;\\n      border-radius: 6px;\\n      cursor: pointer;\\n      transition: transform 0.2s, box-shadow 0.2s;\\n      border: 1px solid #dee2e6;\\n    }\\n    \\n    .slot-card[_ngcontent-%COMP%]:hover {\\n      transform: translateY(-2px);\\n      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);\\n    }\\n    \\n    .slot-card.slot-available[_ngcontent-%COMP%] {\\n      background-color: #d4edda;\\n      border-left: 4px solid #28a745;\\n    }\\n    \\n    .slot-card.slot-blocked[_ngcontent-%COMP%] {\\n      background-color: #f8d7da;\\n      border-left: 4px solid #dc3545;\\n      cursor: not-allowed;\\n    }\\n    \\n    .slot-card.slot-full[_ngcontent-%COMP%] {\\n      background-color: #fff3cd;\\n      border-left: 4px solid #ffc107;\\n    }\\n    \\n    .slot-header[_ngcontent-%COMP%] {\\n      display: flex;\\n      justify-content: space-between;\\n      align-items: center;\\n      margin-bottom: 5px;\\n    }\\n    \\n    .slot-header[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%] {\\n      font-size: 0.9rem;\\n    }\\n    \\n    .slot-header[_ngcontent-%COMP%]   small[_ngcontent-%COMP%] {\\n      font-size: 0.75rem;\\n      color: #6c757d;\\n    }\\n    \\n    .slot-info[_ngcontent-%COMP%] {\\n      font-size: 0.85rem;\\n    }\\n    \\n    .progress-bar.bg-success[_ngcontent-%COMP%] {\\n      background-color: #28a745 !important;\\n    }\\n    \\n    .progress-bar.bg-warning[_ngcontent-%COMP%] {\\n      background-color: #ffc107 !important;\\n    }\\n    \\n    .progress-bar.bg-danger[_ngcontent-%COMP%] {\\n      background-color: #dc3545 !important;\\n    }\\n    \\n    .week-controls[_ngcontent-%COMP%] {\\n      display: flex;\\n      align-items: center;\\n      flex-wrap: wrap;\\n      gap: 10px;\\n    }\\n    \\n    .loading-container[_ngcontent-%COMP%] {\\n      min-height: 400px;\\n      display: flex;\\n      justify-content: center;\\n      align-items: center;\\n    }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy93ZWVrLW92ZXJ2aWV3L3dlZWstb3ZlcnZpZXcuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7SUFDSTtNQUNFLGFBQWE7TUFDYixxQ0FBcUM7TUFDckMsU0FBUztNQUNULGdCQUFnQjtJQUNsQjs7SUFFQTtNQUNFO1FBQ0UscUNBQXFDO01BQ3ZDO0lBQ0Y7O0lBRUE7TUFDRTtRQUNFLHFDQUFxQztNQUN2QztJQUNGOztJQUVBO01BQ0U7UUFDRSwwQkFBMEI7TUFDNUI7SUFDRjs7SUFFQTtNQUNFLHlCQUF5QjtNQUN6QixrQkFBa0I7TUFDbEIsZ0JBQWdCO01BQ2hCLGlCQUFpQjtJQUNuQjs7SUFFQTtNQUNFLDZEQUE2RDtNQUM3RCxZQUFZO01BQ1osYUFBYTtNQUNiLGtCQUFrQjtJQUNwQjs7SUFFQTtNQUNFLFNBQVM7TUFDVCxlQUFlO0lBQ2pCOztJQUVBO01BQ0UsK0JBQStCO0lBQ2pDOztJQUVBO01BQ0UsYUFBYTtNQUNiLGlCQUFpQjtNQUNqQixnQkFBZ0I7SUFDbEI7O0lBRUE7TUFDRSxhQUFhO01BQ2Isa0JBQWtCO01BQ2xCLGVBQWU7TUFDZiwyQ0FBMkM7TUFDM0MseUJBQXlCO0lBQzNCOztJQUVBO01BQ0UsMkJBQTJCO01BQzNCLHlDQUF5QztJQUMzQzs7SUFFQTtNQUNFLHlCQUF5QjtNQUN6Qiw4QkFBOEI7SUFDaEM7O0lBRUE7TUFDRSx5QkFBeUI7TUFDekIsOEJBQThCO01BQzlCLG1CQUFtQjtJQUNyQjs7SUFFQTtNQUNFLHlCQUF5QjtNQUN6Qiw4QkFBOEI7SUFDaEM7O0lBRUE7TUFDRSxhQUFhO01BQ2IsOEJBQThCO01BQzlCLG1CQUFtQjtNQUNuQixrQkFBa0I7SUFDcEI7O0lBRUE7TUFDRSxpQkFBaUI7SUFDbkI7O0lBRUE7TUFDRSxrQkFBa0I7TUFDbEIsY0FBYztJQUNoQjs7SUFFQTtNQUNFLGtCQUFrQjtJQUNwQjs7SUFFQTtNQUNFLG9DQUFvQztJQUN0Qzs7SUFFQTtNQUNFLG9DQUFvQztJQUN0Qzs7SUFFQTtNQUNFLG9DQUFvQztJQUN0Qzs7SUFFQTtNQUNFLGFBQWE7TUFDYixtQkFBbUI7TUFDbkIsZUFBZTtNQUNmLFNBQVM7SUFDWDs7SUFFQTtNQUNFLGlCQUFpQjtNQUNqQixhQUFhO01BQ2IsdUJBQXVCO01BQ3ZCLG1CQUFtQjtJQUNyQiIsInNvdXJjZXNDb250ZW50IjpbIlxuICAgIC53ZWVrLWdyaWQge1xuICAgICAgZGlzcGxheTogZ3JpZDtcbiAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDUsIDFmcik7XG4gICAgICBnYXA6IDE1cHg7XG4gICAgICBtYXJnaW4tdG9wOiAyMHB4O1xuICAgIH1cbiAgICBcbiAgICBAbWVkaWEgKG1heC13aWR0aDogMTIwMHB4KSB7XG4gICAgICAud2Vlay1ncmlkIHtcbiAgICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoMywgMWZyKTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgQG1lZGlhIChtYXgtd2lkdGg6IDc2OHB4KSB7XG4gICAgICAud2Vlay1ncmlkIHtcbiAgICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoMiwgMWZyKTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgQG1lZGlhIChtYXgtd2lkdGg6IDQ4MHB4KSB7XG4gICAgICAud2Vlay1ncmlkIHtcbiAgICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnI7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIC5kYXktY29sdW1uIHtcbiAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNkZWUyZTY7XG4gICAgICBib3JkZXItcmFkaXVzOiA4cHg7XG4gICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgYmFja2dyb3VuZDogd2hpdGU7XG4gICAgfVxuICAgIFxuICAgIC5kYXktaGVhZGVyIHtcbiAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICMyYzVhYTAgMCUsICM1YThlZDkgMTAwJSk7XG4gICAgICBjb2xvcjogd2hpdGU7XG4gICAgICBwYWRkaW5nOiAxMnB4O1xuICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIH1cbiAgICBcbiAgICAuZGF5LWhlYWRlciBoNSB7XG4gICAgICBtYXJnaW46IDA7XG4gICAgICBmb250LXNpemU6IDFyZW07XG4gICAgfVxuICAgIFxuICAgIC5kYXktaGVhZGVyIHNtYWxsIHtcbiAgICAgIGNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuOSk7XG4gICAgfVxuICAgIFxuICAgIC5zbG90cy1jb250YWluZXIge1xuICAgICAgcGFkZGluZzogMTBweDtcbiAgICAgIG1heC1oZWlnaHQ6IDYwMHB4O1xuICAgICAgb3ZlcmZsb3cteTogYXV0bztcbiAgICB9XG4gICAgXG4gICAgLnNsb3QtY2FyZCB7XG4gICAgICBwYWRkaW5nOiAxMHB4O1xuICAgICAgYm9yZGVyLXJhZGl1czogNnB4O1xuICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuMnMsIGJveC1zaGFkb3cgMC4ycztcbiAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNkZWUyZTY7XG4gICAgfVxuICAgIFxuICAgIC5zbG90LWNhcmQ6aG92ZXIge1xuICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0ycHgpO1xuICAgICAgYm94LXNoYWRvdzogMCA0cHggOHB4IHJnYmEoMCwgMCwgMCwgMC4xNSk7XG4gICAgfVxuICAgIFxuICAgIC5zbG90LWNhcmQuc2xvdC1hdmFpbGFibGUge1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2Q0ZWRkYTtcbiAgICAgIGJvcmRlci1sZWZ0OiA0cHggc29saWQgIzI4YTc0NTtcbiAgICB9XG4gICAgXG4gICAgLnNsb3QtY2FyZC5zbG90LWJsb2NrZWQge1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2Y4ZDdkYTtcbiAgICAgIGJvcmRlci1sZWZ0OiA0cHggc29saWQgI2RjMzU0NTtcbiAgICAgIGN1cnNvcjogbm90LWFsbG93ZWQ7XG4gICAgfVxuICAgIFxuICAgIC5zbG90LWNhcmQuc2xvdC1mdWxsIHtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmYzY2Q7XG4gICAgICBib3JkZXItbGVmdDogNHB4IHNvbGlkICNmZmMxMDc7XG4gICAgfVxuICAgIFxuICAgIC5zbG90LWhlYWRlciB7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgIG1hcmdpbi1ib3R0b206IDVweDtcbiAgICB9XG4gICAgXG4gICAgLnNsb3QtaGVhZGVyIHN0cm9uZyB7XG4gICAgICBmb250LXNpemU6IDAuOXJlbTtcbiAgICB9XG4gICAgXG4gICAgLnNsb3QtaGVhZGVyIHNtYWxsIHtcbiAgICAgIGZvbnQtc2l6ZTogMC43NXJlbTtcbiAgICAgIGNvbG9yOiAjNmM3NTdkO1xuICAgIH1cbiAgICBcbiAgICAuc2xvdC1pbmZvIHtcbiAgICAgIGZvbnQtc2l6ZTogMC44NXJlbTtcbiAgICB9XG4gICAgXG4gICAgLnByb2dyZXNzLWJhci5iZy1zdWNjZXNzIHtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICMyOGE3NDUgIWltcG9ydGFudDtcbiAgICB9XG4gICAgXG4gICAgLnByb2dyZXNzLWJhci5iZy13YXJuaW5nIHtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmMxMDcgIWltcG9ydGFudDtcbiAgICB9XG4gICAgXG4gICAgLnByb2dyZXNzLWJhci5iZy1kYW5nZXIge1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2RjMzU0NSAhaW1wb3J0YW50O1xuICAgIH1cbiAgICBcbiAgICAud2Vlay1jb250cm9scyB7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgIGZsZXgtd3JhcDogd3JhcDtcbiAgICAgIGdhcDogMTBweDtcbiAgICB9XG4gICAgXG4gICAgLmxvYWRpbmctY29udGFpbmVyIHtcbiAgICAgIG1pbi1oZWlnaHQ6IDQwMHB4O1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICB9XG4gICJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n}","map":{"version":3,"mappings":"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","names":["i0","WeekOverviewComponent","constructor","apiService","router","ngOnInit","currentWeek","loadWeek","loading","errorMessage","getWeekOverview","startDate","subscribe","next","response","weekData","week_data","start_date","error","console","today","Date","monday","dayOfWeek","getDay","diff","setDate","getDate","formatDateForAPI","previousWeek","date","nextWeek","selectSlot","slot","is_blocked","is_available","navigate","period","getSlotClass","getProgressPercent","max_students","current_students","getProgressClass","percent","getWeekdayName","weekday","days","formatDate","dateStr","toLocaleDateString","day","month","year","formatDateShort","getFullYear","String","getMonth","padStart","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/home/runner/workspace/frontend/src/app/components/week-overview/week-overview.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { ApiService } from '../../services/api.service';\n\n@Component({\n  selector: 'app-week-overview',\n  template: `\n    <div class=\"card\">\n      <h2>Wochenübersicht</h2>\n      <p class=\"lead\">Übersicht aller verfügbaren Slots für die Woche</p>\n      \n      <div class=\"week-controls mb-4\">\n        <button class=\"btn btn-secondary me-2\" (click)=\"previousWeek()\">\n          ← Vorherige Woche\n        </button>\n        <button class=\"btn btn-secondary me-2\" (click)=\"currentWeek()\">\n          Aktuelle Woche\n        </button>\n        <button class=\"btn btn-secondary\" (click)=\"nextWeek()\">\n          Nächste Woche →\n        </button>\n        <span class=\"ms-3 text-muted\">\n          Woche ab {{ formatDate(startDate) }}\n        </span>\n      </div>\n      \n      <div *ngIf=\"loading\" class=\"loading-container\">\n        <div class=\"spinner-border text-primary\" role=\"status\">\n          <span class=\"visually-hidden\">Laden...</span>\n        </div>\n      </div>\n      \n      <div *ngIf=\"!loading && weekData.length > 0\" class=\"week-grid\">\n        <div *ngFor=\"let day of weekData\" class=\"day-column\">\n          <div class=\"day-header\">\n            <h5>{{ getWeekdayName(day.weekday) }}</h5>\n            <small class=\"text-muted\">{{ formatDateShort(day.date) }}</small>\n          </div>\n          \n          <div class=\"slots-container\">\n            <div *ngFor=\"let slot of day.slots\" \n                 class=\"slot-card mb-2\" \n                 [ngClass]=\"getSlotClass(slot)\"\n                 (click)=\"selectSlot(day.date, slot)\">\n              <div class=\"slot-header\">\n                <strong>{{ slot.period }}. Stunde</strong>\n                <small>{{ slot.start_time }} - {{ slot.end_time }}</small>\n              </div>\n              <div class=\"slot-info\">\n                <div *ngIf=\"!slot.is_blocked\">\n                  <small>{{ slot.current_students }}/{{ slot.max_students }}</small>\n                  <div class=\"progress mt-1\" style=\"height: 4px;\">\n                    <div class=\"progress-bar\" \n                         [ngClass]=\"getProgressClass(slot)\"\n                         [style.width.%]=\"getProgressPercent(slot)\">\n                    </div>\n                  </div>\n                </div>\n                <div *ngIf=\"slot.is_blocked\" class=\"text-danger\">\n                  <small><strong>Blockiert</strong></small>\n                </div>\n              </div>\n              <div *ngIf=\"slot.bookings && slot.bookings.length > 0\" class=\"mt-1\">\n                <small class=\"text-muted\">\n                  {{ slot.bookings[0].offer_label }}\n                  <span *ngIf=\"slot.bookings.length > 1\">\n                    +{{ slot.bookings.length - 1 }}\n                  </span>\n                </small>\n              </div>\n            </div>\n            \n            <div *ngIf=\"day.slots.length === 0\" class=\"alert alert-info\">\n              Keine Slots\n            </div>\n          </div>\n        </div>\n      </div>\n      \n      <div *ngIf=\"!loading && weekData.length === 0\" class=\"alert alert-warning\">\n        Keine Daten für diese Woche verfügbar\n      </div>\n      \n      <div *ngIf=\"errorMessage\" class=\"alert alert-danger mt-3\">\n        {{ errorMessage }}\n      </div>\n    </div>\n  `,\n  styles: [`\n    .week-grid {\n      display: grid;\n      grid-template-columns: repeat(5, 1fr);\n      gap: 15px;\n      margin-top: 20px;\n    }\n    \n    @media (max-width: 1200px) {\n      .week-grid {\n        grid-template-columns: repeat(3, 1fr);\n      }\n    }\n    \n    @media (max-width: 768px) {\n      .week-grid {\n        grid-template-columns: repeat(2, 1fr);\n      }\n    }\n    \n    @media (max-width: 480px) {\n      .week-grid {\n        grid-template-columns: 1fr;\n      }\n    }\n    \n    .day-column {\n      border: 1px solid #dee2e6;\n      border-radius: 8px;\n      overflow: hidden;\n      background: white;\n    }\n    \n    .day-header {\n      background: linear-gradient(135deg, #2c5aa0 0%, #5a8ed9 100%);\n      color: white;\n      padding: 12px;\n      text-align: center;\n    }\n    \n    .day-header h5 {\n      margin: 0;\n      font-size: 1rem;\n    }\n    \n    .day-header small {\n      color: rgba(255, 255, 255, 0.9);\n    }\n    \n    .slots-container {\n      padding: 10px;\n      max-height: 600px;\n      overflow-y: auto;\n    }\n    \n    .slot-card {\n      padding: 10px;\n      border-radius: 6px;\n      cursor: pointer;\n      transition: transform 0.2s, box-shadow 0.2s;\n      border: 1px solid #dee2e6;\n    }\n    \n    .slot-card:hover {\n      transform: translateY(-2px);\n      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);\n    }\n    \n    .slot-card.slot-available {\n      background-color: #d4edda;\n      border-left: 4px solid #28a745;\n    }\n    \n    .slot-card.slot-blocked {\n      background-color: #f8d7da;\n      border-left: 4px solid #dc3545;\n      cursor: not-allowed;\n    }\n    \n    .slot-card.slot-full {\n      background-color: #fff3cd;\n      border-left: 4px solid #ffc107;\n    }\n    \n    .slot-header {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      margin-bottom: 5px;\n    }\n    \n    .slot-header strong {\n      font-size: 0.9rem;\n    }\n    \n    .slot-header small {\n      font-size: 0.75rem;\n      color: #6c757d;\n    }\n    \n    .slot-info {\n      font-size: 0.85rem;\n    }\n    \n    .progress-bar.bg-success {\n      background-color: #28a745 !important;\n    }\n    \n    .progress-bar.bg-warning {\n      background-color: #ffc107 !important;\n    }\n    \n    .progress-bar.bg-danger {\n      background-color: #dc3545 !important;\n    }\n    \n    .week-controls {\n      display: flex;\n      align-items: center;\n      flex-wrap: wrap;\n      gap: 10px;\n    }\n    \n    .loading-container {\n      min-height: 400px;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n    }\n  `]\n})\nexport class WeekOverviewComponent implements OnInit {\n  weekData: any[] = [];\n  startDate: string = '';\n  loading: boolean = false;\n  errorMessage: string = '';\n\n  constructor(\n    private apiService: ApiService,\n    private router: Router\n  ) { }\n\n  ngOnInit(): void {\n    this.currentWeek();\n  }\n\n  loadWeek(): void {\n    this.loading = true;\n    this.errorMessage = '';\n    \n    this.apiService.getWeekOverview(this.startDate).subscribe({\n      next: (response) => {\n        this.weekData = response.week_data || [];\n        this.startDate = response.start_date;\n        this.loading = false;\n      },\n      error: (error) => {\n        console.error('Error loading week overview:', error);\n        this.errorMessage = 'Fehler beim Laden der Wochenübersicht';\n        this.loading = false;\n      }\n    });\n  }\n\n  currentWeek(): void {\n    const today = new Date();\n    const monday = new Date(today);\n    const dayOfWeek = today.getDay();\n    const diff = dayOfWeek === 0 ? -6 : 1 - dayOfWeek;\n    monday.setDate(today.getDate() + diff);\n    \n    this.startDate = this.formatDateForAPI(monday);\n    this.loadWeek();\n  }\n\n  previousWeek(): void {\n    const date = new Date(this.startDate);\n    date.setDate(date.getDate() - 7);\n    this.startDate = this.formatDateForAPI(date);\n    this.loadWeek();\n  }\n\n  nextWeek(): void {\n    const date = new Date(this.startDate);\n    date.setDate(date.getDate() + 7);\n    this.startDate = this.formatDateForAPI(date);\n    this.loadWeek();\n  }\n\n  selectSlot(date: string, slot: any): void {\n    if (slot.is_blocked) return;\n    \n    if (slot.is_available) {\n      this.router.navigate(['/book', date, slot.period]);\n    }\n  }\n\n  getSlotClass(slot: any): string {\n    if (slot.is_blocked) return 'slot-blocked';\n    if (slot.is_available) return 'slot-available';\n    return 'slot-full';\n  }\n\n  getProgressPercent(slot: any): number {\n    if (slot.max_students === 0) return 0;\n    return (slot.current_students / slot.max_students) * 100;\n  }\n\n  getProgressClass(slot: any): string {\n    const percent = this.getProgressPercent(slot);\n    if (percent < 50) return 'bg-success';\n    if (percent < 90) return 'bg-warning';\n    return 'bg-danger';\n  }\n\n  getWeekdayName(weekday: string): string {\n    const days: { [key: string]: string } = {\n      'Monday': 'Montag',\n      'Tuesday': 'Dienstag',\n      'Wednesday': 'Mittwoch',\n      'Thursday': 'Donnerstag',\n      'Friday': 'Freitag',\n      'Saturday': 'Samstag',\n      'Sunday': 'Sonntag'\n    };\n    return days[weekday] || weekday;\n  }\n\n  formatDate(dateStr: string): string {\n    if (!dateStr) return '';\n    const date = new Date(dateStr);\n    return date.toLocaleDateString('de-DE', { \n      day: '2-digit', \n      month: '2-digit', \n      year: 'numeric' \n    });\n  }\n\n  formatDateShort(dateStr: string): string {\n    if (!dateStr) return '';\n    const date = new Date(dateStr);\n    return date.toLocaleDateString('de-DE', { \n      day: '2-digit', \n      month: '2-digit'\n    });\n  }\n\n  formatDateForAPI(date: Date): string {\n    const year = date.getFullYear();\n    const month = String(date.getMonth() + 1).padStart(2, '0');\n    const day = String(date.getDate()).padStart(2, '0');\n    return `${year}-${month}-${day}`;\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}